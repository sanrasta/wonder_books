// Internationalization for the Wizard

import { Locale, WizardTranslations, ThemeVariant } from './types';

type TranslationSet = {
  [key in ThemeVariant]: {
    [locale in Locale]: WizardTranslations;
  };
};

const translations: TranslationSet = {
  kids: {
    en: {
      stepOf: 'Step {current} of {total}',
      step1Title: 'Choose Your Adventure Pack',
      step1Subtitle: 'How big should the story be?',
      packPages: '{count} pages',
      mostPopular: 'Most Popular',
      step2Title: 'Who is the Hero?',
      step2Subtitle: 'Tell us about your little adventurer',
      nameLabel: "Child's Name",
      namePlaceholder: 'Emma',
      ageLabel: 'Age',
      agePlaceholder: '5',
      partnerNameLabel: '',
      partnerNamePlaceholder: '',
      milestoneLabel: '',
      milestonePlaceholder: '',
      genderLabel: 'Hero Type',
      step3Title: 'Create the Magic',
      step3Subtitle: 'Upload a photo to generate the cover',
      uploadPrompt: 'Add the hero\'s photo',
      uploadHint: 'Clear face photo works best',
      changePhoto: 'Change',
      emailGateTitle: 'Save your creation',
      emailGateDescription: 'Enter your email so we can send you the magic cover once it\'s ready!',
      emailPlaceholder: 'parent@example.com',
      generateButton: 'Generate Magic Cover',
      generatingTitle: 'Our elves are drawing...',
      generatingSubtitle: 'This usually takes a few seconds',
      sendingTo: 'Sending magic to',
      resultTitle: 'Tadaa!',
      step4Title: 'Almost There!',
      step4Subtitle: 'Final details for delivery',
      contactNameLabel: 'Your Name',
      contactNamePlaceholder: 'Sarah',
      phoneLabel: 'Phone Number',
      phonePlaceholder: '+1 555 123 4567',
      back: 'Back',
      continue: 'Continue',
      finalize: 'Complete My Order',
      finalizeSubtitle: 'Name & Phone',
    },
    fr: {
      stepOf: 'Étape {current} sur {total}',
      step1Title: 'Choisissez Votre Pack Aventure',
      step1Subtitle: 'Quelle taille pour cette histoire ?',
      packPages: '{count} pages',
      mostPopular: 'Le Plus Populaire',
      step2Title: 'Qui est le Héros ?',
      step2Subtitle: 'Parlez-nous de votre petit aventurier',
      nameLabel: "Prénom de l'enfant",
      namePlaceholder: 'Emma',
      ageLabel: 'Âge',
      agePlaceholder: '5',
      partnerNameLabel: '',
      partnerNamePlaceholder: '',
      milestoneLabel: '',
      milestonePlaceholder: '',
      genderLabel: 'Type de héros',
      step3Title: 'Créez la Magie',
      step3Subtitle: 'Téléchargez une photo pour générer la couverture',
      uploadPrompt: 'Ajouter la photo du héros',
      uploadHint: 'Une photo du visage fonctionne mieux',
      changePhoto: 'Changer',
      emailGateTitle: 'Sécuriser votre résultat',
      emailGateDescription: 'Entrez votre email pour que nous puissions vous envoyer la couverture magique une fois générée !',
      emailPlaceholder: 'maman@exemple.com',
      generateButton: 'Générer la Couverture Magique',
      generatingTitle: 'Nos lutins dessinent...',
      generatingSubtitle: 'Cela prend quelques secondes',
      sendingTo: 'Envoi de la magie à',
      resultTitle: 'Tadaa !',
      step4Title: 'Presque Fini !',
      step4Subtitle: 'Derniers détails pour la livraison',
      contactNameLabel: 'Votre Nom',
      contactNamePlaceholder: 'Sophie',
      phoneLabel: 'Numéro de Téléphone',
      phonePlaceholder: '+33 6 12 34 56 78',
      back: 'Retour',
      continue: 'Continuer',
      finalize: 'Finaliser Ma Commande',
      finalizeSubtitle: 'Nom & Téléphone',
    },
    es: {
      stepOf: 'Paso {current} de {total}',
      step1Title: 'Elige Tu Pack de Aventura',
      step1Subtitle: '¿Qué tan grande será la historia?',
      packPages: '{count} páginas',
      mostPopular: 'Más Popular',
      step2Title: '¿Quién es el Héroe?',
      step2Subtitle: 'Cuéntanos sobre tu pequeño aventurero',
      nameLabel: 'Nombre del Niño',
      namePlaceholder: 'Emma',
      ageLabel: 'Edad',
      agePlaceholder: '5',
      partnerNameLabel: '',
      partnerNamePlaceholder: '',
      milestoneLabel: '',
      milestonePlaceholder: '',
      genderLabel: 'Tipo de Héroe',
      step3Title: 'Crea la Magia',
      step3Subtitle: 'Sube una foto para generar la portada',
      uploadPrompt: 'Añadir foto del héroe',
      uploadHint: 'Una foto clara del rostro funciona mejor',
      changePhoto: 'Cambiar',
      emailGateTitle: 'Guarda tu creación',
      emailGateDescription: '¡Ingresa tu email para que podamos enviarte la portada mágica cuando esté lista!',
      emailPlaceholder: 'mama@ejemplo.com',
      generateButton: 'Generar Portada Mágica',
      generatingTitle: 'Nuestros duendes están dibujando...',
      generatingSubtitle: 'Esto toma unos segundos',
      sendingTo: 'Enviando magia a',
      resultTitle: '¡Tadaa!',
      step4Title: '¡Casi Listo!',
      step4Subtitle: 'Últimos detalles para la entrega',
      contactNameLabel: 'Tu Nombre',
      contactNamePlaceholder: 'María',
      phoneLabel: 'Número de Teléfono',
      phonePlaceholder: '+34 612 345 678',
      back: 'Atrás',
      continue: 'Continuar',
      finalize: 'Completar Mi Pedido',
      finalizeSubtitle: 'Nombre y Teléfono',
    },
    de: {
      stepOf: 'Schritt {current} von {total}',
      step1Title: 'Wähle Dein Abenteuer-Paket',
      step1Subtitle: 'Wie groß soll die Geschichte sein?',
      packPages: '{count} Seiten',
      mostPopular: 'Beliebteste',
      step2Title: 'Wer ist der Held?',
      step2Subtitle: 'Erzähl uns von deinem kleinen Abenteurer',
      nameLabel: 'Name des Kindes',
      namePlaceholder: 'Emma',
      ageLabel: 'Alter',
      agePlaceholder: '5',
      partnerNameLabel: '',
      partnerNamePlaceholder: '',
      milestoneLabel: '',
      milestonePlaceholder: '',
      genderLabel: 'Heldentyp',
      step3Title: 'Erschaffe die Magie',
      step3Subtitle: 'Lade ein Foto hoch um das Cover zu erstellen',
      uploadPrompt: 'Heldenfoto hinzufügen',
      uploadHint: 'Ein klares Gesichtsfoto funktioniert am besten',
      changePhoto: 'Ändern',
      emailGateTitle: 'Sichere deine Kreation',
      emailGateDescription: 'Gib deine E-Mail ein, damit wir dir das magische Cover schicken können!',
      emailPlaceholder: 'mama@beispiel.de',
      generateButton: 'Magisches Cover Erstellen',
      generatingTitle: 'Unsere Elfen zeichnen...',
      generatingSubtitle: 'Das dauert nur ein paar Sekunden',
      sendingTo: 'Sende Magie an',
      resultTitle: 'Tadaa!',
      step4Title: 'Fast Fertig!',
      step4Subtitle: 'Letzte Details für die Lieferung',
      contactNameLabel: 'Dein Name',
      contactNamePlaceholder: 'Anna',
      phoneLabel: 'Telefonnummer',
      phonePlaceholder: '+49 151 1234 5678',
      back: 'Zurück',
      continue: 'Weiter',
      finalize: 'Bestellung Abschließen',
      finalizeSubtitle: 'Name & Telefon',
    },
  },
  valentines: {
    en: {
      stepOf: 'Step {current} of {total}',
      step1Title: 'Choose Your Love Story',
      step1Subtitle: 'How epic is your romance?',
      packPages: '{count} pages',
      mostPopular: 'Most Romantic',
      step2Title: 'Your Love Story Details',
      step2Subtitle: 'Tell us about your journey together',
      nameLabel: 'Your Name',
      namePlaceholder: 'Alex',
      ageLabel: '',
      agePlaceholder: '',
      partnerNameLabel: "Partner's Name",
      partnerNamePlaceholder: 'Jordan',
      milestoneLabel: 'Special Milestone',
      milestonePlaceholder: 'Our 5th Anniversary',
      genderLabel: 'This book is for...',
      step3Title: 'Capture Your Love',
      step3Subtitle: 'Upload your favorite couple photo',
      uploadPrompt: 'Add your couple photo',
      uploadHint: 'A photo together works best',
      changePhoto: 'Change',
      emailGateTitle: 'Save your masterpiece',
      emailGateDescription: "Enter your email so we can send you the romantic cover once it's ready!",
      emailPlaceholder: 'lover@example.com',
      generateButton: 'Create Our Cover',
      generatingTitle: 'Cupid is working...',
      generatingSubtitle: 'Crafting your love story cover',
      sendingTo: 'Sending love to',
      resultTitle: 'Beautiful!',
      step4Title: 'Final Touch',
      step4Subtitle: 'Where should we send your love story?',
      contactNameLabel: 'Your Name',
      contactNamePlaceholder: 'Alex',
      phoneLabel: 'Phone Number',
      phonePlaceholder: '+1 555 123 4567',
      back: 'Back',
      continue: 'Continue',
      finalize: 'Complete My Love Story',
      finalizeSubtitle: 'Contact Details',
    },
    fr: {
      stepOf: 'Étape {current} sur {total}',
      step1Title: "Choisissez Votre Histoire d'Amour",
      step1Subtitle: 'À quel point votre romance est-elle épique ?',
      packPages: '{count} pages',
      mostPopular: 'Le Plus Romantique',
      step2Title: "Détails de Votre Histoire d'Amour",
      step2Subtitle: 'Parlez-nous de votre voyage ensemble',
      nameLabel: 'Votre Prénom',
      namePlaceholder: 'Alex',
      ageLabel: '',
      agePlaceholder: '',
      partnerNameLabel: 'Prénom du Partenaire',
      partnerNamePlaceholder: 'Jordan',
      milestoneLabel: 'Moment Spécial',
      milestonePlaceholder: 'Notre 5ème Anniversaire',
      genderLabel: 'Ce livre est pour...',
      step3Title: 'Capturez Votre Amour',
      step3Subtitle: 'Téléchargez votre photo de couple préférée',
      uploadPrompt: 'Ajouter votre photo de couple',
      uploadHint: 'Une photo ensemble fonctionne mieux',
      changePhoto: 'Changer',
      emailGateTitle: 'Sauvegarder votre chef-d\'œuvre',
      emailGateDescription: 'Entrez votre email pour recevoir votre couverture romantique !',
      emailPlaceholder: 'amoureux@exemple.com',
      generateButton: 'Créer Notre Couverture',
      generatingTitle: 'Cupidon travaille...',
      generatingSubtitle: "Création de votre couverture d'histoire d'amour",
      sendingTo: "Envoi de l'amour à",
      resultTitle: 'Magnifique !',
      step4Title: 'Touche Finale',
      step4Subtitle: "Où devons-nous envoyer votre histoire d'amour ?",
      contactNameLabel: 'Votre Nom',
      contactNamePlaceholder: 'Alex',
      phoneLabel: 'Numéro de Téléphone',
      phonePlaceholder: '+33 6 12 34 56 78',
      back: 'Retour',
      continue: 'Continuer',
      finalize: "Finaliser Mon Histoire d'Amour",
      finalizeSubtitle: 'Coordonnées',
    },
    es: {
      stepOf: 'Paso {current} de {total}',
      step1Title: 'Elige Tu Historia de Amor',
      step1Subtitle: '¿Qué tan épico es tu romance?',
      packPages: '{count} páginas',
      mostPopular: 'Más Romántico',
      step2Title: 'Detalles de Tu Historia de Amor',
      step2Subtitle: 'Cuéntanos sobre su viaje juntos',
      nameLabel: 'Tu Nombre',
      namePlaceholder: 'Alex',
      ageLabel: '',
      agePlaceholder: '',
      partnerNameLabel: 'Nombre de tu Pareja',
      partnerNamePlaceholder: 'Jordan',
      milestoneLabel: 'Momento Especial',
      milestonePlaceholder: 'Nuestro 5º Aniversario',
      genderLabel: 'Este libro es para...',
      step3Title: 'Captura Tu Amor',
      step3Subtitle: 'Sube tu foto de pareja favorita',
      uploadPrompt: 'Añadir foto de pareja',
      uploadHint: 'Una foto juntos funciona mejor',
      changePhoto: 'Cambiar',
      emailGateTitle: 'Guarda tu obra maestra',
      emailGateDescription: '¡Ingresa tu email para que podamos enviarte la portada romántica!',
      emailPlaceholder: 'amor@ejemplo.com',
      generateButton: 'Crear Nuestra Portada',
      generatingTitle: 'Cupido está trabajando...',
      generatingSubtitle: 'Creando la portada de tu historia de amor',
      sendingTo: 'Enviando amor a',
      resultTitle: '¡Hermoso!',
      step4Title: 'Toque Final',
      step4Subtitle: '¿Dónde enviamos tu historia de amor?',
      contactNameLabel: 'Tu Nombre',
      contactNamePlaceholder: 'Alex',
      phoneLabel: 'Número de Teléfono',
      phonePlaceholder: '+34 612 345 678',
      back: 'Atrás',
      continue: 'Continuar',
      finalize: 'Completar Mi Historia de Amor',
      finalizeSubtitle: 'Datos de Contacto',
    },
    de: {
      stepOf: 'Schritt {current} von {total}',
      step1Title: 'Wähle Deine Liebesgeschichte',
      step1Subtitle: 'Wie episch ist eure Romanze?',
      packPages: '{count} Seiten',
      mostPopular: 'Romantischste',
      step2Title: 'Details Eurer Liebesgeschichte',
      step2Subtitle: 'Erzählt uns von eurer gemeinsamen Reise',
      nameLabel: 'Dein Name',
      namePlaceholder: 'Alex',
      ageLabel: '',
      agePlaceholder: '',
      partnerNameLabel: 'Name des Partners',
      partnerNamePlaceholder: 'Jordan',
      milestoneLabel: 'Besonderer Meilenstein',
      milestonePlaceholder: 'Unser 5. Jahrestag',
      genderLabel: 'Dieses Buch ist für...',
      step3Title: 'Halte Eure Liebe Fest',
      step3Subtitle: 'Lade euer Lieblingspaarfoto hoch',
      uploadPrompt: 'Paarfoto hinzufügen',
      uploadHint: 'Ein Foto zusammen funktioniert am besten',
      changePhoto: 'Ändern',
      emailGateTitle: 'Sichere dein Meisterwerk',
      emailGateDescription: 'Gib deine E-Mail ein, damit wir dir das romantische Cover schicken können!',
      emailPlaceholder: 'liebe@beispiel.de',
      generateButton: 'Unser Cover Erstellen',
      generatingTitle: 'Amor arbeitet...',
      generatingSubtitle: 'Erstelle dein Liebesgeschichten-Cover',
      sendingTo: 'Sende Liebe an',
      resultTitle: 'Wunderschön!',
      step4Title: 'Letzter Schliff',
      step4Subtitle: 'Wohin sollen wir eure Liebesgeschichte schicken?',
      contactNameLabel: 'Dein Name',
      contactNamePlaceholder: 'Alex',
      phoneLabel: 'Telefonnummer',
      phonePlaceholder: '+49 151 1234 5678',
      back: 'Zurück',
      continue: 'Weiter',
      finalize: 'Liebesgeschichte Abschließen',
      finalizeSubtitle: 'Kontaktdaten',
    },
  },
};

// Detect user's locale from browser
export function detectLocale(): Locale {
  if (typeof window === 'undefined') return 'en';
  
  const browserLang = navigator.language.split('-')[0].toLowerCase();
  
  if (browserLang === 'fr') return 'fr';
  if (browserLang === 'es') return 'es';
  if (browserLang === 'de') return 'de';
  
  return 'en'; // Default
}

// Get translations for a theme and locale
export function getTranslations(theme: ThemeVariant, locale: Locale): WizardTranslations {
  return translations[theme][locale];
}

// Helper to interpolate strings like "Step {current} of {total}"
export function t(template: string, values: Record<string, string | number>): string {
  return template.replace(/{(\w+)}/g, (_, key) => String(values[key] || ''));
}

